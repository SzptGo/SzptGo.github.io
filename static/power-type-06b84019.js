import{b as e,a,r as l,h as o,Y as r,j as t,w as p,i as d,f as u,aj as s,o as i,y as n,C as c,l as m,ag as y,am as v,q as f,t as w,D as T,E as b,ae as _,_ as g}from"./index-51cf8a1b.js";import{g as h,a as k,e as I,d as x}from"./power-type-85c9c42a.js";const C={class:"app-container"},N={class:"toolbar-wrapper"},V={class:"card-container"},j=e({name:"ElementPlus"}),D=g(e({...j,setup(e){const g=a(!1),j=a(!1),D=a(null),q=l({powerTypeId:"",powerTypeName:""}),z=l({powerTypeName:[{required:!0,trigger:"blur",message:"请输入能源类型名称"}]}),E=()=>{var e;null==(e=D.value)||e.validate((e=>{if(!e)return!1;void 0===U.value?k(q).then((e=>{e.data?(R(),B(),j.value=!1,b.success("新增成功")):b.error("新增失败")})):I(q).then((e=>{e.data?(R(),B(),j.value=!1,b.success("修改成功")):b.error("修改失败")}))}))},B=()=>{U.value=void 0,q.powerTypeName="",q.powerTypeId=""},U=a(void 0),P=a([]),R=async()=>{g.value=!0;try{const e=await h();P.value=e.data}catch(e){console.error(e),P.value=[]}finally{g.value=!1}};return R(),(e,a)=>{const l=u("el-button"),h=u("el-tooltip"),k=u("el-table-column"),I=u("el-table"),S=u("el-card"),Y=u("el-text"),$=u("el-form-item"),A=u("el-input"),F=u("el-form"),G=u("el-dialog"),H=s("loading");return i(),o("div",C,[r((i(),t(S,{shadow:"never"},{default:p((()=>[n("div",N,[n("div",null,[d(l,{type:"primary",icon:m(y),onClick:a[0]||(a[0]=e=>j.value=!0)},{default:p((()=>[c("新增能源类型")])),_:1},8,["icon"])]),n("div",null,[d(h,{content:"刷新表格"},{default:p((()=>[d(l,{type:"primary",icon:m(v),circle:"",onClick:R},null,8,["icon"])])),_:1})])]),d(I,{data:P.value,style:{width:"100%"},"row-key":"id",border:""},{default:p((()=>[d(k,{prop:"powerTypeId",label:"能源类型ID"}),d(k,{prop:"powerTypeName",label:"能源类型名称"}),d(k,{fixed:"right",label:"操作",width:"170",align:"center"},{default:p((e=>[d(l,{type:"primary",text:"",bg:"",size:"small",icon:"Edit",onClick:a=>{return l=e.row,U.value=l.powerTypeId,q.powerTypeName=l.powerTypeName,q.powerTypeId=l.powerTypeId,void(j.value=!0);var l}},{default:p((()=>[c("修改")])),_:2},1032,["onClick"]),d(l,{type:"danger",text:"",bg:"",size:"small",icon:"Delete",onClick:a=>{var l;(l=e.row).powerTypeId?_.confirm(`您确定删除【${l.powerTypeName}】吗？`,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{x(l.powerTypeId).then((()=>{b.success("删除成功"),R()}))})):b.error("无法删除该能源类型！")}},{default:p((()=>[c("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])])),_:1})),[[H,g.value]]),d(G,{modelValue:j.value,"onUpdate:modelValue":a[4]||(a[4]=e=>j.value=e),title:void 0===U.value?"新增能源类型":"修改能源类型",onClose:B},{footer:p((()=>[d(l,{onClick:a[3]||(a[3]=e=>j.value=!1)},{default:p((()=>[c("取消")])),_:1}),d(l,{type:"primary",onClick:E},{default:p((()=>[c("确认")])),_:1})])),default:p((()=>[d(F,{model:q,ref_key:"formRef",ref:D,rules:z,"label-position":"left","label-width":"100px",size:"default",onSubmit:a[2]||(a[2]=f((()=>{}),["prevent"]))},{default:p((()=>[n("div",V,[U.value?(i(),t($,{key:0,label:"能源类型 ID"},{default:p((()=>[d(Y,null,{default:p((()=>[c(w(U.value),1)])),_:1})])),_:1})):T("",!0),d($,{label:"能源类型名",prop:"powerTypeName",class:"required"},{default:p((()=>[d(A,{modelValue:q.powerTypeName,"onUpdate:modelValue":a[1]||(a[1]=e=>q.powerTypeName=e),type:"text",clearable:"",placeholder:"请输入能源类型名"},null,8,["modelValue"])])),_:1})])])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-55283640"]]);export{D as default};
